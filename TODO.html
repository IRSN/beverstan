<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>TODO list for the beverstan package • beverstan</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="TODO list for the beverstan package"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">beverstan</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/Overview.html">Overview of the beverstan package</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>TODO list for the beverstan package</h1>

    </div>

<div id="todo-list-for-the-beverstan-package" class="section level1">

<p>Yves Deville 2025-06-04</p>
<div class="section level2">
<h2 id="bug-fixes">BUG fixes<a class="anchor" aria-label="anchor" href="#bug-fixes"></a></h2>
<ul class="task-list"><li><label><input type="checkbox">Though not really bugs, fix the problems due to the re-definition of S3 generics such as <code>profLik</code>. This requires to change the dependences between packages.</label></li>
</ul></div>
<div class="section level2">
<h2 id="new-features">New features<a class="anchor" aria-label="anchor" href="#new-features"></a></h2>
<ul class="task-list"><li><p><label><input type="checkbox">Implement the <code>show</code> method for the <code>"TVGEVBayes"</code> class.</label></p></li>
<li><p><label><input type="checkbox">Implement <code>confInt</code> or <code>credInt</code> method for the <code>"TVGEVBayes"</code> class.</label></p></li>
<li><p><label><input type="checkbox">Implement <code>residuals</code> (a.k.a; <code>resid</code>) method for the <code>"TVGEVBayes"</code> class to display the generalized residuals.</label></p></li>
<li><p><label><input type="checkbox">What about some Information Criterion, e.g. WAIC (<em>Widely Applicable</em> or <em>Watababe Akaike</em>) Information Criterion?</label></p></li>
<li><p><label><input type="checkbox">Implement the <code>simulate</code> method for the <code>"TVGEVBayes"</code> class. How to cope with the parameters? We could either plug the MAP parameter or sample the parameter from the its posterior, hence simulate from the predictive distribution.</label></p></li>
<li><p><label><input type="checkbox">Allow the <code>predict</code> method for the <code>"TVGEVBayes"</code> class to compute the density or other “predict” things as done in the <em>revdbayes</em> package.</label></p></li>
<li><p><label><input type="checkbox">Allow the <code>predict</code> method for the <code>"TVGEVBayes"</code> class to compute the distribution or density, … on <em>several</em> time ranges. The <code>autoplot</code> method could then plot e.g. the densities as is done in the <em>NSGEV</em> package.</label></p></li>
<li><p><label><input type="checkbox">Implement the methods wanted in the <strong>stan</strong> packages such as <code>posterior_predict</code>.</label></p></li>
<li><p><label><input type="checkbox">What about the implementation of random effects as in <strong>INLA</strong>: random walk, integregrated random walk, AR, …</label></p></li>
</ul></div>
<div class="section level2">
<h2 id="known-problems">Known problems<a class="anchor" aria-label="anchor" href="#known-problems"></a></h2>
<ul class="task-list"><li><p><label><input type="checkbox">The initial values for the MCMC sampling may fail to match the data. These are obtained by applying a small perturbation on the parameters computed by ML and it may be the cas that the support of the GEV distributions does not cover all the observations, leading to an error. The solution would be to write a quite sophisticated function to get initial values.</label></p></li>
<li><p><label><input type="checkbox">The method for the class may fail. The problem is that the quantiles of the predictive distribution are obtained by using on the which requires suitable lower and upper bounds for the root. These bounds are obtained by an heuristic which needs imporvements. The solution may be first to sample from the predictive distribution (which is easy) and simply take the maximum and the minimum of the simulated values as the bounds.</label></p></li>
</ul></div>
<div class="section level2">
<h2 id="improvements">Improvements<a class="anchor" aria-label="anchor" href="#improvements"></a></h2>
<ul class="task-list"><li><p><label><input type="checkbox">The <code>autoplot</code> method for <code>TVGEVBayes</code> could have a <code>type</code> argument controlling the type of plot. The posssible values would be:<br><code>fitted</code> (default) <code>RL</code>, <code>predict</code> and <code>residuals</code>. Depending of the value of <code>which</code> we would first call the corresponding method and the arguments passed through the dots <code>...</code> would be passed to the corresponding method. Each of these main methods would return an object with a corresponding class (e.g. <code>fitted.TVGVBayes</code>) inheriting from <code>"data.frame"</code> with some extra attributes to keep trace of the choices: <code>timeRange</code>, <code>level</code>, <code>what</code> (for what is predicted), … Note that this is some kind of refactoring.</label></p></li>
<li><p><label><input type="checkbox"><code>autoplot</code> methods could provide a default title, such as <code>"posterior mean for the GEV expectation"</code>. Similarly, the predictive distribution could be described.</label></p></li>
<li><p><label><input type="checkbox">Improve the management of the blocks. A duration of several years could be allowed. The beginning of the blocks could also be chosen differently if needed, for instance at the 1-st of August in order to allow a better management of winter extremes. This could be done by using a syntax like <code>blockBegin = "08-01"</code>.</label></p></li>
<li><p><label><input type="checkbox">Define a class <code>"ibts"</code> for irregularly sampled block time series. Each observation would correspond to a time-block such as one year, and the blocks would be given in time order but with possible gaps. We could allow interval censored observations; the name of the variable would then no longer be a colname but be attached as an attribute to the object. So the columns could be named ̀“y”<code>,</code>“yL”<code>and</code>“yU”` without having some complex management of suffixes and prefixes.</label></p></li>
</ul></div>
<div class="section level2">
<h2 id="technical-solutions">Technical solutions<a class="anchor" aria-label="anchor" href="#technical-solutions"></a></h2>
<ul class="task-list"><li><label><input type="checkbox">Study the code of some packages like <strong>brms</strong> to see how to achieve gains in the use of <strong>Stan</strong>. Also instructions collected from the <strong>rstantools</strong> package documentation can help.</label></li>
</ul></div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Yves Deville.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

